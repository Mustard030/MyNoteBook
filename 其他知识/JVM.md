# 垃圾回收机制
## 第一步：对象存活判定算法
使用可达性分析，它采用了类似于树结构的搜索机制。
首先每个对象的引用都有机会成为树的根节点（GC Roots），可以被选定作为根节点条件如下：
- 位于虚拟机栈的栈帧中的本地变量表中所引用到的对象（其实就是我们方法中的局部变量）同样也包括本地方法栈中JNI引用的对象。
- 类的静态成员变量引用的对象。
- 方法区中，常量池里面引用的对象，比如我们之前提到的String类型对象。
- 被添加了锁的对象（比如synchronized关键字）
- 虚拟机内部需要用到的对象。
![[Pasted image 20240319134426.png]]
![[Pasted image 20240319134443.png]]

## 第二步：垃圾回收算法




![[Pasted image 20240319133630.png]]